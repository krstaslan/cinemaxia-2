{% extends 'main.html' %}
{% block content %}
{% load static %}

<style>
    *{
        margin: 0px;
        padding: 0px;
    }
    .card{
        width: 70%;
        /* display: inline-block; */
        box-shadow: 2px 2px 20px black;
        border-radius: 5px; 
        margin: 2%;
        background-color: gainsboro;
        /* border-right: 3px dotted;
        margin-right: 50px; */
    }

    .image
    {
        border-top-left-radius: 5px;
        border-top-right-radius: 5px;
        width: 100%;
    }




</style>

<br>







<div class="card" id="content">
    <div class="layout">        
     
    <div class="image" style="background-color: white;">
        <h2 style="padding: 10px;  font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;">Ticket</h2>
    </div>

        <div class="column column--1of3">
        <img src="{% static 'images/ticket_img.png' %}"   alt="">
        </div>
        <div class="column column--2of3">
            <h2 style="font-family: 'Franklin Gothic Medium', 'Arial Narrow', Arial, sans-serif;">{{movie.name}}</h2>
            <h4 style="font-family: 'Franklin Gothic Medium', 'Arial Narrow', Arial, sans-serif;">{{movie.created}}</h4>
            <h4 style="font-family: 'Franklin Gothic Medium', 'Arial Narrow', Arial, sans-serif;">Seats: {{seats}}</h4>
        </div>


        
    </div>
</div>

</div>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<button class="btn btn-success" id="download">Downlaod</button>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.9.2/html2pdf.bundle.js"></script>
<script>
window.onload = function () {
    document.getElementById("download")
        .addEventListener("click", () => {
            const invoice = this.document.getElementById("content");
            console.log(invoice);
            console.log(window);
            var opt = {
                margin: 1,
                filename: 'myticket.pdf',
                image: { type: 'jpeg', quality: 0.98 },
                html2canvas: { scale: 2 },
                jsPDF: { unit: 'in', format: 'letter', orientation: 'portrait' }
            };
            html2pdf().from(invoice).set(opt).save();
        })
}
</script>

{% endblock %}